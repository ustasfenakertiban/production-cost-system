# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –°–∏–º—É–ª—è—Ü–∏—è v2 (–û–û–ü)

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ v2?

–°–∏–º—É–ª—è—Ü–∏—è v2 - —ç—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ (–û–û–ü), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç v1

| –§—É–Ω–∫—Ü–∏—è | v1 | v2 (–û–û–ü) |
|---------|----|---------| 
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è | –û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ | –ë–∞–∑–æ–≤–æ–µ | –£–º–Ω–æ–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ + –ø–∞—Ä—Ç–∏–∏) |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ | –ù–µ—Ç | –ß–∞—Å—Ç–∏—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π |
| –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—Å—Ç–æ—è | –í—Å–µ–≥–¥–∞ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ë–î) |
| –†–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π | –ü–æ–ª–Ω—ã–π (—É–∑–∫–∏–µ –º–µ—Å—Ç–∞) |
| –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç | –ë–∞–∑–æ–≤–∞—è | –î–µ—Ç–∞–ª—å–Ω–∞—è –ø–æ –∫–∞–∂–¥–æ–º—É —Ä–µ—Å—É—Ä—Å—É |

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–∏ (–≤ –ë–î)

–ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `SimulationSettings`:

```sql
SELECT * FROM "SimulationSettings" LIMIT 1;
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `payIdleTime` (Boolean) - –û–ø–ª–∞—á–∏–≤–∞—Ç—å –ª–∏ –ø—Ä–æ—Å—Ç–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
  - `true` - –æ–ø–ª–∞—Ç–∞ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è (—Ä–∞–±–æ—Ç–∞ + –ø—Ä–æ—Å—Ç–æ–π)
  - `false` - –æ–ø–ª–∞—Ç–∞ —Ç–æ–ª—å–∫–æ –∑–∞ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
  
- `enablePartialWork` (Boolean) - –í—ã–ø–æ–ª–Ω—è—Ç—å –ª–∏ —á–∞—Å—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - `true` - –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã, –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —á–∞—Å—Ç–∏—á–Ω–æ
  - `false` - –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å:

- **minStockPercentage** - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–µ—Å–Ω–∏–∂–∞–µ–º—ã–π –æ—Å—Ç–∞—Ç–æ–∫ (%)
  - –ü—Ä–∏–º–µ—Ä: 20% –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø–∞—Å –≤ 20% –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–∞—Ä—Ç–∏–∏
  
- **batchSize** - –†–∞–∑–º–µ—Ä –ø–∞—Ä—Ç–∏–∏ –∑–∞–∫—É–ø–∫–∏
  - –ü—Ä–∏–º–µ—Ä: 100 –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–∞—Ç–µ—Ä–∏–∞–ª –∑–∞–∫—É–ø–∞–µ—Ç—Å—è –ø–∞—Ä—Ç–∏—è–º–∏ –ø–æ 100 –µ–¥–∏–Ω–∏—Ü
  
**–ü—Ä–∏–º–µ—Ä:**
```
–ú–∞—Ç–µ—Ä–∏–∞–ª: "–ê–ª—é–º–∏–Ω–∏–µ–≤—ã–π —Å–ª–∏—Ç–æ–∫"
batchSize: 1000 –∫–≥
minStockPercentage: 10%

–ü—Ä–∏ –∑–∞–∫—É–ø–∫–µ:
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫: 1000 * 0.1 = 100 –∫–≥
- –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è 550 –∫–≥ –∏ –Ω–∞ —Å–∫–ª–∞–¥–µ 80 –∫–≥:
  - –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç: 550 - 80 = 470 –∫–≥
  - –ó–∞–∫—É–ø–∏–º: ceil(470 / 1000) * 1000 = 1000 –∫–≥ (—Ü–µ–ª—É—é –ø–∞—Ä—Ç–∏—é)
```

### 3. –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–∫–∞–∑ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ó–∞–∫–∞–∑—ã"
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–°–∏–º—É–ª—è—Ü–∏—è"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑–±—Ä–æ—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
4. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–ø—É—Å—Ç–∏—Ç—å v2 (–û–û–ü) üÜï"**

### 4. –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—á–∞—Å—ã)
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º –∑–∞—Ç—Ä–∞—Ç:
  - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
  - –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
  - –ü–µ—Ä—Å–æ–Ω–∞–ª

#### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º
–î–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:
- –¶–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–∞–ª–µ–π
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ó–∞—Ç—Ä–∞—Ç—ã –ø–æ –∫–∞–∂–¥–æ–º—É —Ä–µ—Å—É—Ä—Å—É

#### –ì—Ä–∞—Ñ–∏–∫–∏
- –†–∞–∑–±–∏–≤–∫–∞ –∑–∞—Ç—Ä–∞—Ç –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º (—Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞)
- –û–±—â–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã (–∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞)
- –ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª (—Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞)

## –†–µ–∂–∏–º—ã —Ä–∞–∑–±—Ä–æ—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

v2 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ –∂–µ —Ä–µ–∂–∏–º—ã —Ä–∞–∑–±—Ä–æ—Å–∞, —á—Ç–æ –∏ v1:

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| NONE | –ë–µ–∑ —Ä–∞–∑–±—Ä–æ—Å–∞ (–Ω–æ–º–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è) |
| MAX | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã |
| MIN | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã |
| MIN_PRODUCTIVITY_MAX_COSTS | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å + –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã |
| RANDOM_ASYMMETRIC | –°–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ä–∞–∑–±—Ä–æ—Å–∞ |

## –†–∞–∑–ª–∏—á–∏—è –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏

**v1:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É–ª—É
**v2:** –ù–∞—Ö–æ–¥–∏—Ç —É–∑–∫–æ–µ –º–µ—Å—Ç–æ (bottleneck) —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:
```
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å = min(
  –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è_1,
  –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è_2,
  ...,
  –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–æ–ª–∏_1,
  –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–æ–ª–∏_2,
  ...
)
```

### –ó–∞–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

**v1:** –ó–∞–∫—É–ø–∞–µ—Ç —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ
**v2:** 
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫
- –ó–∞–∫—É–ø–∞–µ—Ç —Ü–µ–ª—ã–º–∏ –ø–∞—Ä—Ç–∏—è–º–∏
- –í–µ–¥–µ—Ç —É—á–µ—Ç –≤—Å–µ—Ö –∑–∞–∫—É–ø–æ–∫

### –û–ø–ª–∞—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞

**v1:** –í—Å–µ–≥–¥–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π
**v2:** –û–ø—Ü–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (`payIdleTime`)
- `true` - –∫–∞–∫ v1
- `false` - –æ–ø–ª–∞—Ç–∞ —Ç–æ–ª—å–∫–æ –∑–∞ —Ä–∞–±–æ—Ç—É

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª

–•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç–µ, –Ω–µ –æ–ø–ª–∞—á–∏–≤–∞—è –ø—Ä–æ—Å—Ç–æ–π?

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é v2 —Å `payIdleTime = true`
2. –ó–∞–ø–∏—à–∏—Ç–µ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª
3. –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –Ω–∞ `payIdleTime = false`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é —Å–Ω–æ–≤–∞
5. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ê–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç

–•–æ—Ç–∏—Ç–µ –Ω–∞–π—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ—Ä–º–æ–∑—è—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ?

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ v2 —Å —Ä–µ–∂–∏–º–æ–º NONE (–±–µ–∑ —Ä–∞–∑–±—Ä–æ—Å–∞)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
3. –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–æ–ª—å—à–∏–º –≤—Ä–µ–º–µ–Ω–µ–º - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —É—Ç–∏–ª–∏–∑–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è —ç—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫—É–ø–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

–•–æ—Ç–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫—É–ø–∫–∏?

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `batchSize` –∏ `minStockPercentage` –¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ v2
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤":
   - –°–∫–æ–ª—å–∫–æ –∑–∞–∫—É–ø–ª–µ–Ω–æ –≤—Å–µ–≥–æ
   - –°–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ
   - –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–æ–∫

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –í —á–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ v2?

–¢–æ—á–Ω–æ—Å—Ç—å –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è. v2 –¥–∞–µ—Ç –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã, —É—á–∏—Ç—ã–≤–∞—è —Ä–µ–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞.

### –ú–æ–≥—É –ª–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–µ –≤–µ—Ä—Å–∏–∏?

–î–∞! –û–±–µ –∫–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã. –í—ã –º–æ–∂–µ—Ç–µ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã v1 –∏ v2.

### –ö–∞–∫—É—é –≤–µ—Ä—Å–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è v2 –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤. v1 –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ü–µ–Ω–∫–∏.

### –í–ª–∏—è–µ—Ç –ª–∏ v2 –Ω–∞ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î?

–ù–µ—Ç, —Å–∏–º—É–ª—è—Ü–∏—è –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ. –û–Ω–∞ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç –∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

### –ú–æ–∂–Ω–æ –ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?

–î–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥" –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
SimulationEngine (–≥–ª–∞–≤–Ω—ã–π –¥–≤–∏–∂–æ–∫)
  ‚îú‚îÄ ResourceManager (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏)
  ‚îÇ   ‚îú‚îÄ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (stocks, purchases)
  ‚îÇ   ‚îú‚îÄ –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (states, utilization)
  ‚îÇ   ‚îî‚îÄ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (states, work/idle time)
  ‚îÇ
  ‚îî‚îÄ OperationChain (—Ü–µ–ø–æ—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π)
      ‚îî‚îÄ Operation (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
          ‚îú‚îÄ –†–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
          ‚îú‚îÄ –†–∞—Å—á–µ—Ç –∑–∞—Ç—Ä–∞—Ç
          ‚îî‚îÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
```

### –§–∞–π–ª—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Backend:**
  - `/lib/simulation-v2/` - –û–û–ü –¥–≤–∏–∂–æ–∫
  - `/api/simulation-v2/run/` - API endpoint

- **Frontend:**
  - `/orders/[id]/simulation-panel.tsx` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
  - `SimulationSettings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–º—É–ª—è—Ü–∏–∏
  - `Material` - —Ä–∞—Å—à–∏—Ä–µ–Ω –ø–æ–ª—è–º–∏ `minStockPercentage`, `batchSize`

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é v2 –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–æ–±—â–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞:** 16.10.2025  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
