
# –°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ v2 (–û–û–ü)

–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
simulation-v2/
‚îú‚îÄ‚îÄ types.ts              - –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ ResourceManager.ts    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (–º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)
‚îú‚îÄ‚îÄ Operation.ts          - –ö–ª–∞—Å—Å –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ OperationChain.ts     - –ö–ª–∞—Å—Å —Ü–µ–ø–æ—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ SimulationEngine.ts   - –ì–ª–∞–≤–Ω—ã–π –¥–≤–∏–∂–æ–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
‚îú‚îÄ‚îÄ dataLoader.ts         - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
‚îú‚îÄ‚îÄ index.ts              - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ README.md             - –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

### SimulationEngine

–ì–ª–∞–≤–Ω—ã–π –¥–≤–∏–∂–æ–∫ —Å–∏–º—É–ª—è—Ü–∏–∏. –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π, —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `initialize(parameters)` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏
- `run()` - –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
- `getLogs()` - –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### ResourceManager

–£–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:
- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (–∑–∞–∫—É–ø–∫–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤)
- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (–∑–∞–Ω—è—Ç–æ—Å—Ç—å, –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã/–ø—Ä–æ—Å—Ç–æ—è)
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º, —É—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏)

### Operation

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–¥–Ω—É –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `calculateProductivity()` - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `getMaterialRequirements()` - –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
- `getEquipmentRequirements()` - –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é
- `getRoleRequirements()` - –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–æ–ª—è–º

### OperationChain

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ü–µ–ø–æ—á–∫—É –æ–ø–µ—Ä–∞—Ü–∏–π (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—É—é –∏–ª–∏ –Ω–∞ –∫–∞–∂–¥—É—é –¥–µ—Ç–∞–ª—å).

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å:
- `minStockPercentage` - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –ø–∞—Ä—Ç–∏–∏ –∑–∞–∫—É–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∫–ª–∞–¥–µ
- `batchSize` - —Ä–∞–∑–º–µ—Ä –ø–∞—Ä—Ç–∏–∏ –∑–∞–∫—É–ø–∫–∏

–ü—Ä–∏–º–µ—Ä:
```typescript
{
  name: "–°–∏–ª—É–º–∏–Ω",
  batchSize: 1000, // –∫–≥
  minStockPercentage: 10, // %
  // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ = 1000 * 0.1 = 100 –∫–≥
}
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ—è

–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `enablePartialWork`, —Å–∏–º—É–ª—è—Ü–∏—è –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å —á–∞—Å—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ + –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ + –º–∞—Ç–µ—Ä–∏–∞–ª—ã).

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ—Å—Ç–æ—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

### 3. –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—Å—Ç–æ—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ `payIdleTime` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è:
- `true` - –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç–∞–≤–∫—É –¥–∞–∂–µ –∑–∞ –ø—Ä–æ—Å—Ç–æ–π
- `false` - –æ–ø–ª–∞—á–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import { runSimulation } from "@/lib/simulation-v2";

const result = await runSimulation({
  orderId: "order_123",
  orderQuantity: 1000,
  productId: "product_456",
  productName: "–ò–∑–¥–µ–ª–∏–µ –ê",
  processId: "process_789",
  processName: "–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å",
  varianceMode: "NORMAL",
  startDate: new Date(),
  settings: {
    payIdleTime: true,
    enablePartialWork: true,
  },
});

console.log("–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:", result.totalCost);
console.log("–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:", result.totalDuration, "—á–∞—Å–æ–≤");
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å v1

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | v1 (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) | v2 (–û–û–ü) |
|------------|---------------------|----------|
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –§—É–Ω–∫—Ü–∏–∏ | –ö–ª–∞—Å—Å—ã |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º | –û–±—ä–µ–∫—Ç—ã | –ö–ª–∞—Å—Å—ã —Å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–µ–π |
| –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ | –ù–µ—Ç | –î–∞ |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ—è | –ù–µ—Ç | –î–∞ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø–ª–∞—Ç—ã –ø—Ä–æ—Å—Ç–æ—è | –ù–µ—Ç | –î–∞ |
| –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è |
| –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è |

## –°—Ç–∞—Ç—É—Å

üöß **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ**

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ª–æ–≥–∏–∫—É. –¢—Ä–µ–±—É–µ—Ç—Å—è:
- [ ] –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –∑–∞—Ç—Ä–∞—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç —É—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å API endpoint
- [ ] –°–æ–∑–¥–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
